{"level":"info","ts":"2024-08-10T17:57:50.171+0330","logger":"main.main","caller":"http/http.go:41","msg":"cfg","config":{"HTTPServer":{"Port":8080},"Auth":{"SignKey":"hello","AccessExpirationTime":0,"RefreshExpirationTime":0,"AccessSubject":"ac","RefreshSubject":"rt"},"Mysql":{"Username":"bbGame","Password":"root","Host":"localhost","DBName":"brainBlitz_db","Port":3306,"ConnMaxLifeTimeMinutes":3,"MaxOpenCons":10,"MaxIdleCons":1,"RetryConnection":5000000000},"Mongo":{"User":"mongodb","Host":"localhost","Port":27017},"Redis":{"Host":"localhost","Port":6379,"Password":"","DB":0},"MatchMakingPrefix":{"WaitingListPrefix":"waitingList","MinTimeWaitingListSelection":-120000000000},"MatchMakingTimeOut":{"WaitingTimeout":120000000000,"LeastPresence":-120000000000},"Presence":{"Prefix":"presence","ExpirationTime":3600000000000},"Scheduler":{"Interval":20,"MatchUserTimeOut":60000000000},"GetPresence":{"PresencePrefix":"presence"},"Kafka":{"Host":"kafka","Port":"9092"}}}
{"level":"info","ts":"2024-08-10T17:59:12.048+0330","logger":"main.main","caller":"http/http.go:41","msg":"cfg","config":{"HTTPServer":{"Port":8080},"Auth":{"SignKey":"hello","AccessExpirationTime":0,"RefreshExpirationTime":0,"AccessSubject":"ac","RefreshSubject":"rt"},"Mysql":{"Username":"bbGame","Password":"root","Host":"localhost","DBName":"brainBlitz_db","Port":3306,"ConnMaxLifeTimeMinutes":3,"MaxOpenCons":10,"MaxIdleCons":1,"RetryConnection":5000000000},"Mongo":{"User":"mongodb","Host":"localhost","Port":27017},"Redis":{"Host":"localhost","Port":6379,"Password":"","DB":0},"MatchMakingPrefix":{"WaitingListPrefix":"waitingList","MinTimeWaitingListSelection":-120000000000},"MatchMakingTimeOut":{"WaitingTimeout":120000000000,"LeastPresence":-120000000000},"Presence":{"Prefix":"presence","ExpirationTime":3600000000000},"Scheduler":{"Interval":20,"MatchUserTimeOut":60000000000},"GetPresence":{"PresencePrefix":"presence"},"Kafka":{"Host":"kafka","Port":"9092"}}}
{"level":"info","ts":"2024-08-10T18:16:03.661+0330","logger":"main.main","caller":"http/http.go:42","msg":"cfg","config":{"HTTPServer":{"Port":8080},"Auth":{"SignKey":"hello","AccessExpirationTime":0,"RefreshExpirationTime":0,"AccessSubject":"ac","RefreshSubject":"rt"},"Mysql":{"Username":"bbGame","Password":"root","Host":"localhost","DBName":"brainBlitz_db","Port":3306,"ConnMaxLifeTimeMinutes":3,"MaxOpenCons":10,"MaxIdleCons":1,"RetryConnection":5000000000},"Mongo":{"User":"mongodb","Host":"localhost","Port":27017},"Redis":{"Host":"localhost","Port":6379,"Password":"","DB":0},"MatchMakingPrefix":{"WaitingListPrefix":"waitingList","MinTimeWaitingListSelection":-120000000000},"MatchMakingTimeOut":{"WaitingTimeout":120000000000,"LeastPresence":-120000000000},"Presence":{"Prefix":"presence","ExpirationTime":3600000000000},"Scheduler":{"Interval":20,"MatchUserTimeOut":60000000000},"GetPresence":{"PresencePrefix":"presence"},"Kafka":{"Host":"kafka","Port":"9092"}}}
{"level":"info","ts":"2024-08-10T18:16:32.073+0330","logger":"http-server","caller":"echo/echo.go:31","msg":"request","request_id":"BQSYeFBaSNgZdhVWUJnBDfuWnNnPuAUU","host":"127.0.0.1:8080","content-length":"74","protocol":"HTTP/1.1","method":"GET","latency":1.028204336,"error":"","remote_ip":"127.0.0.1","response_size":324,"uri":"/api/v1/signIn","status":200}
{"level":"info","ts":"2024-08-18T16:24:19.465+0330","logger":"main.main","caller":"http/http.go:47","msg":"cfg","config":{"HTTPServer":{"Port":8080},"Auth":{"SignKey":"hello","AccessExpirationTime":0,"RefreshExpirationTime":0,"AccessSubject":"ac","RefreshSubject":"rt"},"Mysql":{"Username":"bbGame","Password":"root","Host":"localhost","DBName":"brainBlitz_db","Port":3306,"ConnMaxLifeTimeMinutes":3,"MaxOpenCons":10,"MaxIdleCons":1,"RetryConnection":5000000000},"Mongo":{"User":"mongodb","Host":"localhost","Port":27017},"Redis":{"Host":"localhost","Port":6379,"Password":"","DB":0},"MatchMakingPrefix":{"WaitingListPrefix":"waitingList","MinTimeWaitingListSelection":-120000000000},"MatchMakingTimeOut":{"WaitingTimeout":120000000000,"LeastPresence":-120000000000},"Presence":{"Prefix":"presence","ExpirationTime":3600000000000},"Scheduler":{"Interval":20,"MatchUserTimeOut":60000000000},"GetPresence":{"PresencePrefix":"presence"},"Kafka":{"Host":"kafka","Port":"9092"},"Infra":{"PPROF":true}}}
{"level":"error","ts":"2024-08-18T16:24:19.778+0330","logger":"mongo.createAccessControlData","caller":"mongo/db.go:38","msg":"failed to seed Data","error":"write exception: write errors: [E11000 duplicate key error collection: BrainBlitz.access_control index: _id_ dup key: { _id: ObjectId('000000000000000000000000') }]","stacktrace":"BrainBlitz.com/game/internal/infra/repository/mongo.createAccessControlData\n\t/home/nima/GolandProjects/BrainBlitz/internal/infra/repository/mongo/db.go:38\nBrainBlitz.com/game/internal/infra/repository/mongo.NewMongoDB\n\t/home/nima/GolandProjects/BrainBlitz/internal/infra/repository/mongo/db.go:27\nmain.main\n\t/home/nima/GolandProjects/BrainBlitz/delivery/http/http.go:82\nruntime.main\n\t/home/nima/sdk/go1.22.2/src/runtime/proc.go:271"}
{"level":"info","ts":"2024-08-18T16:24:19.778+0330","logger":"http.Start","caller":"http/http_server.go:46","msg":"http server started","port":8080}
{"level":"info","ts":"2024-08-18T16:24:19.778+0330","logger":"main.main","caller":"http/http.go:136","msg":"listening signals...","processId":78193}
{"level":"info","ts":"2024-08-18T16:24:19.779+0330","logger":"scheduler.Start","caller":"scheduler/schduler.go:35","msg":"starting scheduler..."}
{"level":"error","ts":"2024-08-18T16:24:19.780+0330","logger":"matchMakingHandler.StartMatchMaker","caller":"match/matchManagement.go:81","msg":"Error in consuming message","error":"kafka:9092/bootstrap: Connect to ipv4#127.0.0.1:9092 failed: Connection refused (after 0ms in state CONNECT)","stacktrace":"BrainBlitz.com/game/internal/core/service/match.Service.StartMatchCreator\n\t/home/nima/GolandProjects/BrainBlitz/internal/core/service/match/matchManagement.go:81"}
{"level":"info","ts":"2024-08-18T16:26:00.322+0330","logger":"scheduler.Start","caller":"scheduler/schduler.go:45","msg":"stopping scheduler..."}
{"level":"info","ts":"2024-08-18T16:26:00.322+0330","logger":"main.main","caller":"http/http.go:148","msg":"graceful shutdown..."}
{"level":"info","ts":"2024-08-18T16:26:04.634+0330","logger":"main.main","caller":"http/http.go:47","msg":"cfg","config":{"HTTPServer":{"Port":8080},"Auth":{"SignKey":"hello","AccessExpirationTime":0,"RefreshExpirationTime":0,"AccessSubject":"ac","RefreshSubject":"rt"},"Mysql":{"Username":"bbGame","Password":"root","Host":"localhost","DBName":"brainBlitz_db","Port":3306,"ConnMaxLifeTimeMinutes":3,"MaxOpenCons":10,"MaxIdleCons":1,"RetryConnection":5000000000},"Mongo":{"User":"mongodb","Host":"localhost","Port":27017},"Redis":{"Host":"localhost","Port":6379,"Password":"","DB":0},"MatchMakingPrefix":{"WaitingListPrefix":"waitingList","MinTimeWaitingListSelection":-120000000000},"MatchMakingTimeOut":{"WaitingTimeout":120000000000,"LeastPresence":-120000000000},"Presence":{"Prefix":"presence","ExpirationTime":3600000000000},"Scheduler":{"Interval":20,"MatchUserTimeOut":60000000000},"GetPresence":{"PresencePrefix":"presence"},"Kafka":{"Host":"kafka","Port":"9092"},"Infra":{"PPROF":true}}}
{"level":"error","ts":"2024-08-18T16:26:04.640+0330","logger":"mongo.createAccessControlData","caller":"mongo/db.go:38","msg":"failed to seed Data","error":"write exception: write errors: [E11000 duplicate key error collection: BrainBlitz.access_control index: _id_ dup key: { _id: ObjectId('000000000000000000000000') }]","stacktrace":"BrainBlitz.com/game/internal/infra/repository/mongo.createAccessControlData\n\t/home/nima/GolandProjects/BrainBlitz/internal/infra/repository/mongo/db.go:38\nBrainBlitz.com/game/internal/infra/repository/mongo.NewMongoDB\n\t/home/nima/GolandProjects/BrainBlitz/internal/infra/repository/mongo/db.go:27\nmain.main\n\t/home/nima/GolandProjects/BrainBlitz/delivery/http/http.go:82\nruntime.main\n\t/home/nima/sdk/go1.22.2/src/runtime/proc.go:271"}
{"level":"error","ts":"2024-08-18T16:26:04.643+0330","logger":"matchMakingHandler.StartMatchMaker","caller":"match/matchManagement.go:81","msg":"Error in consuming message","error":"kafka:9092/bootstrap: Connect to ipv4#127.0.0.1:9092 failed: Connection refused (after 0ms in state CONNECT)","stacktrace":"BrainBlitz.com/game/internal/core/service/match.Service.StartMatchCreator\n\t/home/nima/GolandProjects/BrainBlitz/internal/core/service/match/matchManagement.go:81"}
